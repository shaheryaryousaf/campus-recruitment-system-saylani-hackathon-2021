{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { COMPLETE_S_PROFILE_SUCCESS, COMPLETE_S_PROFILE_FAIL, GET_S_PROFILES_SUCCESS, GET_S_PROFILES_FAIL, GET_SINGLE_S_PROFILE_SUCCESS, GET_SINGLE_S_PROFILE_FAIL } from \"./types\";\nimport { firestore } from \"../config/firebase\";\nexport var completeStudentProfile = function completeStudentProfile(data) {\n  return function _callee(dispatch) {\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            console.log(data.student_id);\n\n            try {\n              firestore.collection('students').add(data);\n              dispatch({\n                type: COMPLETE_S_PROFILE_SUCCESS,\n                payload: res\n              });\n            } catch (err) {\n              dispatch({\n                type: COMPLETE_S_PROFILE_FAIL\n              });\n            }\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n};\nexport var getAllStudentProfiles = function getAllStudentProfiles() {\n  return function _callee2(dispatch) {\n    return _regeneratorRuntime.async(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            try {\n              firestore.collection('students').onSnapshot(function (snapshot) {\n                var postData = [];\n                snapshot.forEach(function (doc) {\n                  return postData.push(_objectSpread(_objectSpread({}, doc.data()), {}, {\n                    id: doc.id\n                  }));\n                });\n                dispatch({\n                  type: GET_S_PROFILES_SUCCESS,\n                  payload: postData\n                });\n              });\n            } catch (error) {\n              dispatch({\n                type: GET_S_PROFILES_FAIL\n              });\n            }\n\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n};\nexport var getStudentProfile = function getStudentProfile(data) {\n  return function _callee3(dispatch) {\n    return _regeneratorRuntime.async(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            try {\n              firestore.collection('students').doc(data).get().then(function (doc) {\n                if (doc.exists) {\n                  dispatch({\n                    type: GET_SINGLE_S_PROFILE_SUCCESS,\n                    payload: doc.data()\n                  });\n                } else {\n                  dispatch({\n                    type: GET_SINGLE_S_PROFILE_FAIL\n                  });\n                }\n              }).catch(function (error) {\n                console.log('Error getting document:', error);\n              });\n            } catch (err) {\n              dispatch({\n                type: GET_PROFILE_FAIL\n              });\n            }\n\n          case 1:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n};","map":{"version":3,"sources":["H:/React/native/campus-recruitment/app/actions/students.js"],"names":["COMPLETE_S_PROFILE_SUCCESS","COMPLETE_S_PROFILE_FAIL","GET_S_PROFILES_SUCCESS","GET_S_PROFILES_FAIL","GET_SINGLE_S_PROFILE_SUCCESS","GET_SINGLE_S_PROFILE_FAIL","firestore","completeStudentProfile","data","dispatch","console","log","student_id","collection","add","type","payload","res","err","getAllStudentProfiles","onSnapshot","snapshot","postData","forEach","doc","push","id","error","getStudentProfile","get","then","exists","catch","GET_PROFILE_FAIL"],"mappings":";;;;;;;AAAA,SACEA,0BADF,EAEEC,uBAFF,EAGEC,sBAHF,EAIEC,mBAJF,EAKEC,4BALF,EAMEC,yBANF;AAQA,SAASC,SAAT;AAKA,OAAO,IAAMC,sBAAsB,GAAG,SAAzBA,sBAAyB,CAACC,IAAD;AAAA,SAAU,iBAAOC,QAAP;AAAA;AAAA;AAAA;AAAA;AAC9CC,YAAAA,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACI,UAAjB;;AACA,gBAAI;AACFN,cAAAA,SAAS,CAACO,UAAV,CAAqB,UAArB,EAAiCC,GAAjC,CAAqCN,IAArC;AACAC,cAAAA,QAAQ,CAAC;AACPM,gBAAAA,IAAI,EAAEf,0BADC;AAEPgB,gBAAAA,OAAO,EAAEC;AAFF,eAAD,CAAR;AAID,aAND,CAME,OAAOC,GAAP,EAAY;AACZT,cAAAA,QAAQ,CAAC;AACPM,gBAAAA,IAAI,EAAEd;AADC,eAAD,CAAR;AAGD;;AAZ6C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAV;AAAA,CAA/B;AAkBP,OAAO,IAAMkB,qBAAqB,GAAG,SAAxBA,qBAAwB;AAAA,SAAM,kBAAOV,QAAP;AAAA;AAAA;AAAA;AAAA;AACzC,gBAAI;AACFH,cAAAA,SAAS,CAACO,UAAV,CAAqB,UAArB,EAAiCO,UAAjC,CAA4C,UAACC,QAAD,EAAc;AACxD,oBAAMC,QAAQ,GAAG,EAAjB;AACAD,gBAAAA,QAAQ,CAACE,OAAT,CAAiB,UAACC,GAAD;AAAA,yBAASF,QAAQ,CAACG,IAAT,iCAAmBD,GAAG,CAAChB,IAAJ,EAAnB;AAA+BkB,oBAAAA,EAAE,EAAEF,GAAG,CAACE;AAAvC,qBAAT;AAAA,iBAAjB;AACAjB,gBAAAA,QAAQ,CAAC;AACPM,kBAAAA,IAAI,EAAEb,sBADC;AAEPc,kBAAAA,OAAO,EAAEM;AAFF,iBAAD,CAAR;AAID,eAPD;AAQD,aATD,CASE,OAAOK,KAAP,EAAc;AACdlB,cAAAA,QAAQ,CAAC;AACPM,gBAAAA,IAAI,EAAEZ;AADC,eAAD,CAAR;AAGD;;AAdwC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAN;AAAA,CAA9B;AAoBP,OAAO,IAAMyB,iBAAiB,GAAG,SAApBA,iBAAoB,CAACpB,IAAD;AAAA,SAAU,kBAAOC,QAAP;AAAA;AAAA;AAAA;AAAA;AACzC,gBAAI;AACFH,cAAAA,SAAS,CACNO,UADH,CACc,UADd,EAEGW,GAFH,CAEOhB,IAFP,EAGGqB,GAHH,GAIGC,IAJH,CAIQ,UAAUN,GAAV,EAAe;AACnB,oBAAIA,GAAG,CAACO,MAAR,EAAgB;AACdtB,kBAAAA,QAAQ,CAAC;AACPM,oBAAAA,IAAI,EAAEX,4BADC;AAEPY,oBAAAA,OAAO,EAAEQ,GAAG,CAAChB,IAAJ;AAFF,mBAAD,CAAR;AAID,iBALD,MAKO;AACLC,kBAAAA,QAAQ,CAAC;AACPM,oBAAAA,IAAI,EAAEV;AADC,mBAAD,CAAR;AAGD;AACF,eAfH,EAgBG2B,KAhBH,CAgBS,UAAUL,KAAV,EAAiB;AACtBjB,gBAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCgB,KAAvC;AACD,eAlBH;AAmBD,aApBD,CAoBE,OAAOT,GAAP,EAAY;AACZT,cAAAA,QAAQ,CAAC;AACPM,gBAAAA,IAAI,EAAEkB;AADC,eAAD,CAAR;AAGD;;AAzBwC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAV;AAAA,CAA1B","sourcesContent":["import {\r\n  COMPLETE_S_PROFILE_SUCCESS,\r\n  COMPLETE_S_PROFILE_FAIL,\r\n  GET_S_PROFILES_SUCCESS,\r\n  GET_S_PROFILES_FAIL,\r\n  GET_SINGLE_S_PROFILE_SUCCESS,\r\n  GET_SINGLE_S_PROFILE_FAIL,\r\n} from './types'\r\nimport { firestore } from '../config/firebase'\r\n\r\n/* ============================== */\r\n/* CREATE NEW STUDENT PROFILE */\r\n/* ============================== */\r\nexport const completeStudentProfile = (data) => async (dispatch) => {\r\n  console.log(data.student_id)\r\n  try {\r\n    firestore.collection('students').add(data)\r\n    dispatch({\r\n      type: COMPLETE_S_PROFILE_SUCCESS,\r\n      payload: res,\r\n    })\r\n  } catch (err) {\r\n    dispatch({\r\n      type: COMPLETE_S_PROFILE_FAIL,\r\n    })\r\n  }\r\n}\r\n\r\n/* ============================== */\r\n/* GET ALL STUDENT PROFILES */\r\n/* ============================== */\r\nexport const getAllStudentProfiles = () => async (dispatch) => {\r\n  try {\r\n    firestore.collection('students').onSnapshot((snapshot) => {\r\n      const postData = []\r\n      snapshot.forEach((doc) => postData.push({ ...doc.data(), id: doc.id }))\r\n      dispatch({\r\n        type: GET_S_PROFILES_SUCCESS,\r\n        payload: postData,\r\n      })\r\n    })\r\n  } catch (error) {\r\n    dispatch({\r\n      type: GET_S_PROFILES_FAIL,\r\n    })\r\n  }\r\n}\r\n\r\n/* ============================== */\r\n/* GET SINGLE USER PROFILE */\r\n/* ============================== */\r\nexport const getStudentProfile = (data) => async (dispatch) => {\r\n  try {\r\n    firestore\r\n      .collection('students')\r\n      .doc(data)\r\n      .get()\r\n      .then(function (doc) {\r\n        if (doc.exists) {\r\n          dispatch({\r\n            type: GET_SINGLE_S_PROFILE_SUCCESS,\r\n            payload: doc.data(),\r\n          })\r\n        } else {\r\n          dispatch({\r\n            type: GET_SINGLE_S_PROFILE_FAIL,\r\n          })\r\n        }\r\n      })\r\n      .catch(function (error) {\r\n        console.log('Error getting document:', error)\r\n      })\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GET_PROFILE_FAIL,\r\n    })\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}